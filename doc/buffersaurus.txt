*buffersaurus.txt*	Buffer indexing and navigation plugin.

===============================================================================
                                             *buffersaurus* *buffersaurus-contents*
CONTENTS~

    1. Introduction ....................... |buffersaurus-introduction|
    2. Commands ........................... |buffersaurus-commands|
    3. Key Mappings ....................... |buffersaurus-keys|
    4. Options and Settings ............... |buffersaurus-options|

===============================================================================
                                                      *buffersaurus-introduction*
INTRODUCTION~

Buffersaurus is a plugin for searching and indexing the contents of buffers
for regular expression patterns or collection of regular expression patterns.
Results are displayed in separate buffer, and can be (optionally) viewed with
user-specifiable lines of context (i.e., a number of lines before and/or after
the line matching the search pattern) or filtered for specific patterns.

-------------------------------------------------------------------------------
Basic Usage~

The command ':Bsgrep {pattern}' is the most general way of invoking
Buffersaurus. It will search all listed buffers for lines of text matching the
given regular expression pattern. The results are stored in catalog, and new
window (the 'catalog viewer') will open up to display the results. Each
matching line (referred to as 'indexed lines') will be displayed in its own
line by default, grouped by the buffer file in which it occurs. You can choose
to list the lines ungrouped, and sorted by line number, by filepath + line
number, or alphabetically.

All standard Vim movement keys (e.g., 'h', 'j', 'k', 'l', <C-F>, <C-B> etc.)
work within the catalog viewer. Moving to an entry (i.e., and indexed line)
and typing <CR> will open the target buffer in a previous window and go to the
line number of the match. Numerous other key maps are available to customize
how the matched line is viewed: e.g., it can be previewed in the previous
window without leaving the catalog ('p'), or opened in a new vertical split
('wv'), horizontal split ('ws'), or tab page ('t'). Special movement keys are
available to quickly take you to the next or previous file group ('f' and 'F',
respectively). You can also simultaneously go to the next or previous indexed
line and preview it (<SPACE> and <C-SPACE>, respectively)

When in the catalog viewer, you can cycle through the sort regimes by pressing
's', or refresh the catalog (re-index the lines) by pressing 'u'.  A special
feature is the "contexted" mode. You can type 'c' to toggle context mode on
and off. When contexted mode is off, each matching or indexed line is
displayed by itself on one row. When you press 'c' to switch on contexted
mode, each matching line is shown with a number of lines context before and
after. The exact number of lines is controlled by the
'g:buffersaurus_context_size' variable. By default, this is set to '[4, 4]',
which means to show 4 lines before and 4 lines after the matching line. You
can set this to any pair of values you line in your $VIMRUNTIME.

If you want to refine the results further, you can use the command ':Bsfilter
{pattern}' from within the catalog viewer.


===============================================================================
                                                          *buffersaurus-commands*
COMMANDS~

:Bsg[rep][!] {pattern}
                    Search buffer(s) for the regular expression |pattern|
                    given by {pattern}. If 'g:buffersaurus_default_single_file' is not
                    defined or true, then all buffers will be searched unless
                    the 'bang' operator is given, in which case the search
                    will be limitd to the current buffer. Otherwise, if
                    'g:buffersaurus_default_single_file' is defined and true, then
                    only the current buffer will be searched unless the bang
                    operator is given, in which the search will be across all
                    buffers. If 'g:buffersaurus_set_search_register' is not false (0),
                    then the pattern will also be assigned to the search
                    register.

:Bst[oc]!
                    Generate a "table of contents" type catalog for buffers,
                    based on the specific filetype of each buffer. If
                    'g:buffersaurus_default_single_file' is not defined or true, then
                    all buffers will be searched unless the 'bang' operator is
                    given, in which case the search will be limitd to the
                    current buffer. Otherwise, if 'g:buffersaurus_default_single_file'
                    is defined and true, then only the current buffer will be
                    searched unless the bang operator is given, in which the
                    search will be across all buffers. See
                    |buffersaurus-filetype-patterns| for more information on
                    the patterns to be matched.

:Bsi[ndex]! {term-name}
                    Generate a catalog of occurrences of the term pattern
                    named {term-name} in buffers. If
                    'g:buffersaurus_default_single_file' is not defined or true, then
                    all buffers will be searched unless the 'bang' operator is
                    given, in which case the search will be limitd to the
                    current buffer. Otherwise, if 'g:buffersaurus_default_single_file'
                    is defined and true, then only the current buffer will be
                    searched unless the bang operator is given, in which the
                    search will be across all buffers. See
                    |buffersaurus-term-patterns| for information on defining
                    and using terms.

:Bso[pen]
                    (Re-)open the most recent catalog.

:Bsn[ext]
                    Go to the next matched line from the most recent catalog
                    (like |:cnext|).

:Bsp[rev]
                    Go to the previous matched line from the most recent
                    catalog (like |:cprev|).

:Bss[tatus][!]
                    Show brief (without '!') or detailed (with '!') description
                    of the most recent catalog.

:Bsf[ilter][!] [pattern]
                    [Only available when inside a Buffergator catalog viewer
                    buffer] Without '!': filter results to only show lines
                    matching [pattern]. If [pattern] is not given, then the
                    previous filter pattern will be used. If there is no
                    previous filter pattern, then the user will be prompted
                    for a new pattern. With '!': remove filter. In all cases
                    if [pattern] is '*' or '.*', then the saved pattern will
                    be cleared and the filter removed.

===============================================================================
                                                             *buffersaurus-keys*
KEY MAPPINGS (CATALOG VIEWER)~

Search results are stored a "catalog", and displayed in special buffer
referred to as a "catalog viewer".  The following key mappings are available
in the catalog viewer.

-------------------------------------------------------------------------------
Catalog Management~

c                   Toggle contexted view on/off (|buffersaurus-context|)
s                   Cycle through sort regimes (|buffersaurus-sort|).
f                   Filter results for lines matching pattern
                    (see |buffersaurus-filter|).
F                   Enter and apply a new filter pattern
                    (see |buffersaurus-filter|).
u                   Update (rebuild/refresh) index.
<C-G>               Brief status of index/catalog (|buffersaurus-status|).
g<C-G>              Detailed status of index/catalog (|buffersaurus-status|).
q                   Quit the index/catalog window.

-------------------------------------------------------------------------------
Movement Within the Catalog Viewer~

<C-N>               Go to the next index entry.
<C-P>               Go to the previous index entry.
]f                  Go to the next file entry.
[f                  Go the previous file entry.

-------------------------------------------------------------------------------
Previewing Results Without Leaving the Catalog Viewer~

p                   Show the currently-selected entry in the previous window.
<SPACE>             Go to the next entry and show it in the previous window.
<C-SPACE>           Go to the previous entry and show it in the previous
                    window.

-------------------------------------------------------------------------------
Jumping to the Matched Line~

<CR>                Switch focus to the previous window and go to the
                    currently-selected entry. If
                    'g:buffersaurus_autodismiss_on_select' is 1, then the
                    catalog is closed; otherwise it is kept open.

-------------------------------------------------------------------------------
Jumping to the Matched Line Without Closing the Catalog~

The following keys all open the target buffer and switch focus to
it, keeping the catalog viewer open at the same time.

o                   Keeping the catalog viewer open, switch focus to the
                    previous window and go to the currently-selected entry (as
                    <CR> if 'g:buffersaurus_autodismiss_on_select' is 0).
ws                  Keeping the catalog viewer open, split the previous window,
                    switch focus, and go to the currently-selected entry.
wv                  Keeping the catalog viewer open, split the previous window
                    vertically, switch focus, and go to the currently-selected
                    entry.
t                   Keeping the catalog viewer open, open the currently-selected
                    entry in a new tab page, keeping the catalog open.

-------------------------------------------------------------------------------
Jumping to the Matched Line and Closing the Catalog~

The following keys all open the target buffer and and switch focus to
it, closing the catalog viewer at the same time.

O                   Close the catalog viewer and go to the currently-selected
                    entry (as <CR> if 'g:buffersaurus_autodismiss_on_select' is
                    1).
wS                  Close the catalog viewer, split the previous window and go
                    to the currently-selected entry.
wV                  Close the catalog viewer, split the previous window
                    vertically and go to the currently-selected entry.
T                   Close the catalog viewer, open the currently-selected entry
                    in a new tab page, closing the catalog.

===============================================================================
                                                          *buffersaurus-options*
OPTIONS AND SETTINGS~

The following options can be used to customize the behavior of this plugin.

g:buffersaurus_viewport_split_policy~
    Default: 'B'
    Determines how a new Buffersaurus window will be opened. Can be one of the
    following values:
        'd'   : user-specified Vim default
        'D'   : user-specified Vim default
        'N'   : no split, reuse current buffer
        'n'   : no split, reuse current buffer
        'L'   : vertical left (full screen height)
        'l'   : vertical left (within current window)
        'R'   : vertical right (full screen height)
        'r'   : vertical right (within current window)
        'T'   : horizontal top (full screen width)
        't'   : horizontal top (within current window)
        'B'   : horizontal bottom (full screen width)
        'b'   : horizontal bottom (within current window)

g:buffersaurus_sort_regime~
    Default: 'fl'
    Sets the default sort regime for results:
        'fl'  : sort by filepath, then line number [default]
        'fa'  : sort by filepath, then alphabetically by line text
        'a'   : sort alphabetically by line text

g:buffersaurus_move_wrap~
    Default: 1
    If true [default], then result navigation wraps (i.e., moving to a 'next'
    result when already on the last result goes to the first result, while
    moving to a 'previous' result when already on the first result goes to the
    last result). If false, then result navigation does not wrap.

g:buffersaurus_set_search_register~
    Default: 1
    If true [default], then ":Bsgrep {pattern}" assigns {pattern} to the
    search register.

g:buffersaurus_show_context~
    Default: 0
    If false, then show uncontexted lines by default; otherwise, show
    contexted lines.

g:buffersaurus_context_size~
    Default: [4, 4]
    Must be a two-element list value. Determines the number of lines to show
    before and after matching indexed lines in results. First element gives
    the number of lines of context to show before matching line, while second
    elements gives the number of lines of context to show after the matching
    line.

 vim:tw=78:ts=8:ft=help:norl:
